!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("veams-query",[],t):"object"==typeof exports?exports["veams-query"]=t():e["veams-query"]=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return new l(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,s=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){s=!0,i=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(s)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="classList"in document.documentElement;window.veamsQueryEvents=window.veamsQueryEvents||[];var l=function(){function e(t,r){n(this,e);var s=void 0,i=void 0,o=[],a=0,l=0;if(!t)return void(this.length=0);if(t.nodeType||t===window)return this[0]=t,void(this.length=1);if(t[0]&&t[0].nodeType)for(var u in t)t.hasOwnProperty(u)&&(this[u]=t[u]);else{for(r?r.nodeType?i=[r]:r[0]&&r[0].nodeType&&(i=r):i=[document],a;a<i.length;a++)try{if(/^(#?[\w-]+|\.[\w-.]+)$/.test(t))switch(t.charAt(0)){case"#":o=[document.getElementById(t.substr(1))];break;case".":s=t.substr(1).replace(/\./g," "),o=o.concat([].slice.call(i[a].getElementsByClassName(s)));break;default:o=o.concat([].slice.call(i[a].getElementsByTagName(t)))}else o=o.concat([].slice.call(i[a].querySelectorAll(t)))}catch(h){console.warn('VeamsQuery says: "',h,'"')}for(l;l<o.length;l++)this[l]=o[l];this.length=o.length}}return o(e,[{key:"find",value:function(t){return new e(t,this)}},{key:"closest",value:function(e){var t=0,n=0,s=0,i=r(),o=void 0;if(!e)return!1;for(t;t<this.length;t++)for(o=this[t].matches||this[t].webkitMatchesSelector||this[t].mozMatchesSelector||this[t].msMatchesSelector;this[t]&&!o.call(this[t],e);)this[t]=this[t].parentElement;for(n;n<this.length;n++)this[n]&&(i[s]=this[n],s++);return i.length=s,i}},{key:"hasClass",value:function(e){return a?this[0].classList.contains(e):new RegExp("(^|\\s+)"+e+"(\\s+|$)").test(this[0].className)}},{key:"is",value:function(e){var t=0;if(!e)return!1;for(t;t<this.length;t++)if((this[t].matches||this[t].matchesSelector||this[t].msMatchesSelector||this[t].mozMatchesSelector||this[t].webkitMatchesSelector||this[t].oMatchesSelector).call(this[t],e))return!0;return!1}},{key:"addClass",value:function(e){var t=0,n=e&&e.split(" ");if(!n)return!1;for(t;t<this.length;t++)for(var r=0;r<n.length;r++)a?this[t].classList.add(n[r]):this[t].className.split(" ").indexOf(n[r])===-1&&(this[t].className=this[t].className+" "+n[r]);return this}},{key:"removeClass",value:function(e){var t=0,n=e&&e.split(" ");for(t;t<this.length;t++)if(n)for(var r=0;r<n.length;r++)"classList"in document.documentElement?this[t].classList.remove(n[r]):this[t].className=this[t].className.replace(new RegExp("(^|\\s+)"+n[r]+"(\\s+|$)")," "),this[t].className.length||this[t].removeAttribute("class");else this[t].removeAttribute("class");return this}},{key:"html",value:function(t){var n=0;if(!t)return this[0].innerHTML;for(n;n<this.length;n++)new e(this[n]).empty(),this[n].innerHTML=t;return this}},{key:"append",value:function(e){var t=0;for(t;t<this.length;t++)"string"==typeof e?this[t].insertAdjacentHTML("beforeend",e):this[t].appendChild(e&&e[0]||e);return this}},{key:"prepend",value:function(e){var t=0;for(t;t<this.length;t++)"string"==typeof e?this[t].insertAdjacentHTML("afterbegin",e):this[t].insertBefore(e&&e[0]||e,this[t].firstChild);return this}},{key:"before",value:function(e){var t=0;for(t;t<this.length;t++)"string"==typeof e?this[t].insertAdjacentHTML("beforebegin",e):this[t].parentNode.insertBefore(e&&e[0]||e,this[t]);return this}},{key:"after",value:function(e){var t=0;for(t;t<this.length;t++)"string"==typeof e?this[t].insertAdjacentHTML("afterend",e):this[t].parentNode.insertBefore(e&&e[0]||e,this[t].nextElementSibling);return this}},{key:"remove",value:function(){var t=0;for(t;t<this.length;t++){var n=veamsQueryEvents.length-1;for(n;n>=0;--n)(veamsQueryEvents[n].node===this[t]||veamsQueryEvents[n].selector&&new e(veamsQueryEvents[n].node).find(veamsQueryEvents[n].selector).length)&&(this[t].removeEventListener(veamsQueryEvents[n].event,veamsQueryEvents[n].handler),veamsQueryEvents.splice(n,1));this[t].parentNode.removeChild(this[t])}return this}},{key:"empty",value:function(){var e=0;for(e;e<this.length;e++)for(;this[e].firstChild;){var t=veamsQueryEvents.length-1;for(t;t>=0;--t)(veamsQueryEvents[t].node===this[e].firstChild||veamsQueryEvents[t].node===this[e]&&veamsQueryEvents[t].selector)&&(this[e].removeEventListener(veamsQueryEvents[t].event,veamsQueryEvents[t].handler),veamsQueryEvents.splice(t,1));this[e].removeChild(this[e].firstChild)}return this}},{key:"eq",value:function(t){return new e(this[t])}},{key:"attr",value:function(e,t){var n=0;if("undefined"==typeof t)return this[0].getAttribute(e);for(n;n<this.length;n++)this[n].setAttribute(e,t);return this}},{key:"removeAttr",value:function(e){var t=0;if(!e)return!1;for(t;t<this.length;t++)this[t].removeAttribute(e);return this}},{key:"text",value:function(e){var t=0,n="";for(t;t<this.length;t++)e?this[t].innerText=e:n+=this[t].innerText;return e?this:n}},{key:"css",value:function(e,t){var n=0;if("string"==typeof e){if("undefined"==typeof t)return this[0].style[e];for(n;n<this.length;n++)this[n].style[e]=t}else if("object"===("undefined"==typeof e?"undefined":i(e)))for(n;n<this.length;n++)for(var r in e)e.hasOwnProperty(r)&&(this[n].style[r]=e[r]);return this}},{key:"outerHeight",value:function(e){var t=this[0].offsetHeight,n=void 0;return!e||e&&"boolean"!=typeof e?t:(n=getComputedStyle(this[0]),t+=parseInt(n.marginTop)+parseInt(n.marginBottom))}},{key:"outerWidth",value:function(e){var t=this[0].offsetWidth,n=void 0;return!e||e&&"boolean"!=typeof e?t:(n=getComputedStyle(this[0]),t+=parseInt(n.marginLeft)+parseInt(n.marginRight))}},{key:"offset",value:function(){var e=this[0].getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}}},{key:"clone",value:function(t){return new e(this[0].cloneNode(t))}},{key:"index",value:function(){return[].slice.call(this[0].parentNode.children).indexOf(this[0])}},{key:"prop",value:function(e,t){var n=0;if("undefined"==typeof t)return this[0][e];for(n;n<this.length;n++)this[n][e]=t;return this}},{key:"val",value:function(e){var t=0;if(!e)return this[0].value;for(t;t<this.length;t++)this[t].value=e;return this}},{key:"serialize",value:function(){var e=[],t=[],n=[];if("object"===i(this[0])&&"FORM"===this[0].nodeName)for(var r=this[0].elements.length,s=0;s<r;s++)if(e=this[0].elements[s],e.name&&!e.disabled&&"file"!==e.type&&"reset"!==e.type&&"submit"!==e.type&&"button"!==e.type)if("select-multiple"===e.type){t=this[0].elements[s].options.length;for(var o=0;o<t;o++)e.options[o].selected&&(n[n.length]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.options[o].value.trim()))}else("checkbox"!==e.type&&"radio"!==e.type||e.checked)&&(n[n.length]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value.trim()));return n.join("&")}},{key:"on",value:function(e,t,n){var i=0,o=e.split(" "),a="function"==typeof t?t:n,l=void 0;for(i;i<this.length;i++)for(var u=0;u<o.length;u++){var h=o[u].split("."),f=s(h,2),c=f[0],v=f[1],y=function(e){"string"==typeof t?(l=r(e.target).closest(t),l&&l.length&&a(e,l[0])):a(e,e.currentTarget)};this[i].addEventListener(c,y),veamsQueryEvents.push({node:this[i],event:c,namespace:v,handler:y,selector:"string"==typeof t?t:void 0})}return this}},{key:"off",value:function(e,t){var n=0,r=e.split(" ");for(n;n<this.length;n++)for(var i=0;i<r.length;i++){var o=r[i].split("."),a=s(o,2),l=a[0],u=a[1],h=veamsQueryEvents.length-1;for(h;h>=0;--h)veamsQueryEvents[h].node===this[n]&&veamsQueryEvents[h].event===l&&veamsQueryEvents[h].namespace===u&&veamsQueryEvents[h].selector===t&&(this[n].removeEventListener(l,veamsQueryEvents[h].handler),veamsQueryEvents.splice(h,1))}return this}},{key:"trigger",value:function(e,t){var n=0,r=e.split(" ");for(n;n<this.length;n++)for(var s=0;s<r.length;s++)"function"==typeof this[n][r[s]]?this[n][r[s]]():this[n].dispatchEvent(new CustomEvent(r[s],{detail:t}));return this}}]),e}();r.version="v2.1.0",r.parseHTML=function(e){var t=new DOMParser,n="text/html",r=t.parseFromString(e,n);return r.body.childNodes[0]},r.ajax=function(e){return new Promise(function(t,n){var r={type:e.type&&"POST"===e.type.toUpperCase()?"POST":"GET",url:e.url,dataType:e.dataType||"text"},s=e.data||{},i=null,o=r.url.indexOf("?")>-1?"&":"?",a=[],l=void 0,u=void 0,h=void 0;if(!r.url){var f=new Error("Request url not set");return f.name="ajaxError ",void n(f)}for(var c in s)s.hasOwnProperty(c)&&a.push(encodeURIComponent(c)+"="+encodeURIComponent(s[c]));var v=a.join("&");"GET"===r.type?h=r.url+o+v:"POST"===r.type&&(h=r.url,i=v),l=new XMLHttpRequest,l.open(r.type,h,!0),"POST"===r.type&&l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.onload=function(){if(l.status>=200&&l.status<400)u="json"===r.dataType?JSON.parse(l.responseText):l.responseText,t(u);else{var e=new Error(l.status+" - "+l.statusText);e.name="ajaxError ",n(e)}},l.onerror=function(e){var t=new Error(e.target.status+" - "+e.target.statusText);t.name="ajaxError ",n(t)},l.send(i)})},t["default"]=r,e.exports=t["default"]}])});
//# sourceMappingURL=veams-query.min.js.map